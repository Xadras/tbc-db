-- Respawn Shadow Serpent 23020
-- https://www.wowhead.com/tbc/npc=21060/enraged-air-spirit#comments:id=118865 - respawn time gist down from 500
-- Paths might be incomplete
DELETE FROM `creature` WHERE `id` = 23020; -- all in that area for sure.
DELETE FROM `creature` WHERE `id` = 21864; -- all in that area for sure.
DELETE FROM `creature` WHERE `id` = 21060 AND `position_x` > -3400; -- subspawns
DELETE FROM `creature` WHERE `guid` BETWEEN 5303985 AND 5304034;
INSERT INTO `creature` (`guid`, `id`, `map`, `position_x`, `position_y`, `position_z`, `orientation`, `spawntimesecsmin`, `spawntimesecsmax`, `spawndist`, `MovementType`) VALUES
(5303985, 23020, 530, -3098.89, 242.107, 88.0001, 0, 300, 300, 0, 4), -- serpent/scorp
(5303986, 23020, 530, -3079.6116, 611.7037, 2.7642298, 0, 300, 300, 0, 4), -- serpent/scorp
(5303987, 23020, 530, -3050.75, 265.055, 45.7577, 0, 300, 300, 10, 1), -- serpent
(5303988, 23020, 530, -3036.53, 444.764, -1.9940, 0, 300, 300, 0, 4), -- all
(5303989, 23020, 530, -3042.33, 134.842, 27.9031, 0, 300, 300, 10, 1), -- serpent
(5303990, 23020, 530, -3016.44, 360.698, -3.19895, 0, 300, 300, 10, 1), -- serpent
(5303991, 21060, 530, -2792.54, 571.0353, -10.7127, 0, 300, 300, 10, 1), -- serpent
(5303992, 23020, 530, -2990.10, 200.768, 1.14204, 0, 300, 300, 10, 1), -- serpent
(5303993, 23020, 530, -2979.063, 575.28174, 18.322628, 0, 300, 300, 0, 2), -- serpent/scorp
(5303994, 23020, 530, -2959.88, 348.401, -13.1118, 0, 300, 300, 10, 1), -- all
(5303995, 23020, 530, -2910.5247, 593.5167, -2.072269, 0, 300, 300, 0, 4), -- serpent/scorp
(5303996, 23020, 530, -2892.97, 540.099, -17.1982, 0, 300, 300, 10, 1), -- serpent
(5303997, 23020, 530, -2833.79, 548.043, -18.1807, 0, 300, 300, 10, 1), -- serpent/air
(5303998, 23020, 530, -2800.9973, 479.78787, -24.548824, 0, 300, 300, 0, 4), -- serpent/scorp
(5303999, 23020, 530, -2827.6418, 622.50415, -9.241704, 0, 300, 300, 0, 4), -- serpent/scorp
(5304000, 23020, 530, -2808.09, 688.305, -18.4746, 0, 300, 300, 0, 4), -- serpent/air
(5304001, 23020, 530, -2792.4778, 750.33875, -0.25195122, 0, 300, 300, 0, 4), -- serpent
(5304002, 23020, 530, -2779.4329, 854.58295, 17.674217, 0, 300, 300, 0, 4), -- serpent
(5304003, 23020, 530, -2770.94, 654.839, -30.3419, 0, 300, 300, 10, 1), -- serpent/air
(5304004, 23020, 530, -2775.3728, 627.68097, -28.515764, 0, 300, 300, 0, 4), -- all
(5304005, 23020, 530, -2730.2083, 608.3161, -48.351044, 0, 300, 300, 0, 4), -- all
(5304006, 23020, 530, -2753.44, 459.909, -33.8396, 0, 300, 300, 10, 1), -- all
(5304007, 23020, 530, -2724.3406, 729.922, -18.40738, 0, 300, 300, 0, 4), -- serpent/scorp
(5304008, 23020, 530, -2751.68, 895.048, -5.03054, 0, 300, 300, 10, 1), -- serpent/air
(5304009, 23020, 530, -2733.0505, 485.71622, -34.389256, 0, 300, 300, 0, 4), -- serpent
(5304010, 23020, 530, -2731.22, 707.741, -18.8387, 0, 300, 300, 10, 1), -- serpent/air
(5304011, 21060, 530, -3043.883, 410.59235, -1.249048, 0, 300, 300, 10, 1), -- air
(5304012, 23020, 530, -2682.67, 584.01, -49.7671, 0, 300, 300, 0, 4),
(5304013, 21864, 530, -3052.32, 354.4, 9.6575, 0, 300, 300, 10, 1),
(5304014, 21864, 530, -3008.49, 534.462, -4.83329, 0, 300, 300, 0, 4),
(5304015, 21864, 530, -3004.11, 483.592, -15.9091, 0, 300, 300, 0, 4), -- snake,scorpid
(5304016, 21864, 530, -2992.64, 281.644, -3.90234, 0, 300, 300, 10, 1), -- all
(5304017, 21864, 530, -2939.44, 610.123, 25.7098, 0, 300, 300, 0, 4), -- snake,scorpid
(5304018, 21060, 530, -3037.59, 391.485, 0.10729, 0, 300, 300, 0, 4),
(5304019, 21060, 530, -2750.4, 936.205, 1.61415, 0, 300, 300, 0, 4),
(5304020, 21060, 530, -2718.2961, 790.48785, -14.3053055, 0, 300, 300, 0, 4),
(5304021, 21060, 530, -2756.4924, 736.9026, -4.495693, 0, 300, 300, 0, 4),
(5304022, 21060, 530, -2701.16, 854.306, -18.3783, 0, 300, 300, 10, 1),
(5304023, 21060, 530, -2775.06, 808.222, 27.5201, 0, 300, 300, 10, 1),
(5304024, 21060, 530, -2761.58, 513.339, -24.8860, 0, 300, 300, 10, 1),

-- Coilskar Point - no elementals
(5304025, 23020, 530, -2512.8203, 1629.9951, -10.752167, 0, 300, 300, 0, 4), -- serpent
(5304026, 23020, 530, -2476.46, 1595.35, -29.305, 0, 300, 300, 10, 1), -- serpent/scorp
(5304027, 23020, 530, -2442.3538, 1785.6063, 10.046078, 0, 300, 300, 0, 4), -- serpent/scorp
(5304028, 23020, 530, -2434.9226, 1687.4269, -2.8888588, 0, 300, 300, 0, 4), -- serpent/scorp
(5304029, 23020, 530, -2420.756, 1735.3572, 6.4751873, 0, 300, 300, 0, 4), -- serpent/scorp
(5304030, 23020, 530, -2420.08, 1803.9072, 2.633152, 0, 300, 300, 0, 4), -- serpent/scorp
(5304031, 23020, 530, -2373.26, 1687.5, -24.9741, 0, 300, 300, 0, 2), -- serpent
(5304032, 23020, 530, -2364.54, 1741.09, -10.0286, 0, 300, 300, 0, 4), -- serpent/scorp
(5304033, 23020, 530, -2353.186, 1800.9827, -18.632149, 0, 300, 300, 0, 4),
(5304034, 23020, 530, -2463.1797, 1719.3594, 15.671512, 0, 300, 300, 0, 4);

UPDATE `creature` SET `id` = 0 WHERE `guid` BETWEEN 5303985 AND 5304034;

DELETE FROM `creature_movement` WHERE `Id` BETWEEN 5303985 AND 5304034;
INSERT INTO `creature_movement` (`Id`, `Point`, `PositionX`, `PositionY`, `PositionZ`) VALUES
(5303985, 1, -3098.89, 242.107, 88.0001),(5303985, 2, -3114.212, 260.21094, 86.22827),(5303985, 3, -3111.7344, 268.85938, 82.2274),(5303985, 4, -3097.3594, 280.29233, 69.274475),
(5303986, 1, -3079.6116, 611.7037, 2.7642298),(5303986, 2, -3059.9526, 595.7821, -0.46997023),(5303986, 3, -3043.9019, 569.8455, -1.2199702),(5303986, 4, -2997.0525, 567.67316, 15.947629),(5303986, 5, -2985.9172, 569.1028, 21.197628),(5303986, 6, -2978.318, 575.94855, 18.322628),
(5303988, 1, -3036.53, 444.764, -1.9940),(5303988, 2, -3043.4775, 439.28967, -2.3889437),(5303988, 3, -3014.7678, 441.83237, -3.312891),
(5303993, 1, -2979.063, 575.28174, 18.322628),(5303993, 2, -2970.2324, 570.0703, 10.572629),(5303993, 3, -2959.450928, 582.916382, 9.905340),(5303993, 4, -2970.7349, 602.34155, 16.961533),(5303993, 5, -2983.3489, 630.1307, 18.211533),
(5303993, 6, -3004.953, 652.3369, 6.6325836),(5303993, 7, -3031.162, 645.7988, -3.3674164),(5303993, 8, -3035.153, 620.5457, -3.8431168),(5303993, 9, -3014.6462, 601.15344, -2.255752),(5303993, 10, -2984.8828, 592.0703, 11.947629),
(5303995, 1, -2910.5247, 593.5167, -2.072269),(5303995, 2, -2910.8164, 568.9541, -11.237761),
(5303998, 1, -2800.9973, 479.78787, -24.548824),(5303998, 2, -2835.8547, 501.33224, -24.939688),(5303998, 3, -2866.6235, 509.38284, -23.314688),
(5303999, 1, -2827.6418, 622.50415, -9.241704),(5303999, 2, -2835.1624, 600.7653, -8.913339),
(5304000, 1, -2808.09, 688.305, -18.4746),(5304000, 2, -2794.682, 674.1198, -14.411409),(5304000, 3, -2774.2112, 674.0665, -22.66141),(5304000, 4, -2758.361, 672.7998, -14.03429),(5304000, 5, -2751.138, 669.802, -14.65929),(5304000, 6, -2729.0503, 679.0562, -23.904251),
(5304001, 1, -2792.4778, 750.33875, -0.25195122),(5304001, 2, -2778.3179, 732.5124, -8.3336735),(5304001, 3, -2782.6677, 713.1085, -9.929709),
(5304002, 1, -2779.4329, 854.58295, 17.674217),(5304002, 2, -2767.84, 840.2182, 24.186544),
(5304004, 1, -2775.3728, 627.68097, -28.515764),(5304004, 2, -2759.8862, 582.4024, -21.872887),
(5304005, 1, -2730.2083, 608.3161, -48.351044),(5304005, 2, -2761.65, 617.631, -31.7661),(5304005, 3, -2767.5686, 641.9255, -22.283136),(5304005, 4, -2787.3423, 644.67816, -21.783136),(5304005, 5, -2797.1477, 652.01184, -25.783136),
(5304006, 1, -2753.44, 459.909, -33.8396),(5304006, 2, -2775.471, 482.3126, -34.569077),(5304006, 3, -2781.757, 500.24524, -35.31648),
(5304007, 1, -2724.3406, 729.922, -18.40738),(5304007, 2, -2763.5403, 721.0716, -18.448418),
(5304009, 1, -2733.0505, 485.71622, -34.389256),(5304009, 2, -2731.1895, 512.1211, -38.57448),
(5304012, 1, -2682.67, 584.01, -49.7671),(5304012, 2, -2696.653, 568.68915, -45.56328),(5304012, 3, -2726.0012, 534.2141, -38.220158),
(5304014, 1, -3008.49, 534.462, -4.83329),(5304014, 2, -2966.6885, 540.57635, -10.386121),(5304014, 3, -2936.3403, 527.10016, -16.525421),
(5304015, 1, -3004.11, 483.592, -15.9091),(5304015, 2, -2994.1445, 504.72156, -22.8553),(5304015, 3, -2965.211, 489.35547, -39.43492),
(5304017, 1, -2939.44, 610.123, 25.7098),(5304017, 2, -2966.8003, 600.4947, 16.711533),(5304017, 3, -2999.148, 596.7253, 4.07263),
(5304018, 1, -3037.59, 391.485, 0.10729),(5304018, 2, -3025.7117, 406.55676, 0.058008194),(5304018, 3, -3025.7117, 406.55676, 0.058008194),
(5304019, 1, -2750.4, 936.205, 1.61415),(5304019, 2, -2735.0437, 922.52985, -2.1711793),(5304019, 3, -2719.769, 914.03656, -4.819824),
(5304020, 1, -2718.2961, 790.48785, -14.3053055),(5304020, 2, -2725.46, 817.03, -4.67013),(5304020, 3, -2710.1426, 810.54895, -18.832874),(5304020, 4, -2690.49, 817.82385, -34.82849),
(5304021, 1, -2756.4924, 736.9026, -4.495693),(5304021, 2, -2752.6555, 757.7325, -8.002804),
(5304025, 1, -2512.8203, 1629.9951, -10.752167),(5304025, 2, -2519.9734, 1656.2826, 3.237402),(5304025, 3, -2517.8645, 1685.3804, 17.816668),(5304025, 4, -2512.622, 1715.1984, 31.12413),(5304025, 5, -2521.6877, 1740.1449, 43.973206),
(5304027, 1, -2442.3538, 1785.6063, 10.046078),(5304027, 2, -2451.325, 1766.199, 19.885075),(5304027, 3, -2442.522, 1732.9604, 13.260076),
(5304028, 1, -2434.9226, 1687.4269, -2.8888588),(5304028, 2, -2438.4692, 1658.2784, -11.77512),(5304028, 3, -2426.554, 1629.0006, -27.925552),(5304028, 4, -2396.4524, 1628.8474, -41.692),(5304028, 5, -2370.975, 1653.1111, -39.15545),
(5304029, 1, -2420.756, 1735.3572, 6.4751873),(5304029, 2, -2410.9153, 1696.5605, -14.424883),
(5304030, 1, -2420.08, 1803.9072, 2.633152),(5304030, 2, -2420.4326, 1767.9072, 11.051985),
(5304031, 1, -2373.26, 1687.5, -24.9741),(5304031, 2, -2417.1934, 1688.762, -6.411879),(5304031, 3, -2429.266, 1688.227, -3.674883),
(5304032, 1, -2364.54, 1741.09, -10.0286),(5304032, 2, -2386.9692, 1761.6167, 4.761998),(5304032, 3, -2408.3242, 1728.3789, 1.5617533),(5304032, 4, -2394.1982, 1704.8873, -11.957926),(5304032, 5, -2373.6484, 1709.2764, -13.457926),
(5304033, 1, -2353.186, 1800.9827, -18.632149),(5304033, 2, -2348.108, 1776.0614, -15.002827),(5304033, 3, -2361.7424, 1755.2578, -4.661112),(5304033, 4, -2351.2498, 1743.4795, -7.036112),
(5304034, 1, -2463.1797, 1719.3594, 15.671512),(5304034, 2, -2486.6458, 1732.7012, 29.57204),(5304034, 3, -2497.15, 1722.34, 29.4405),(5304034, 4, -2504.256, 1715.3933, 28.49913),(5304034, 5, -2497.2427, 1685.3295, 12.7327),(5304034, 6, -2488.44, 1666.81, 11.40);

REPLACE INTO `creature_spawn_entry` (`guid`, `entry`) SELECT `guid`, 21060 FROM `creature` WHERE `guid` BETWEEN 5303985 AND 5304024;
REPLACE INTO `creature_spawn_entry` (`guid`, `entry`) SELECT `guid`, 21864 FROM `creature` WHERE `guid` BETWEEN 5303985 AND 5304024;
REPLACE INTO `creature_spawn_entry` (`guid`, `entry`) SELECT `guid`, 23020 FROM `creature` WHERE `guid` BETWEEN 5303985 AND 5304024;
DELETE FROM `creature_spawn_entry` WHERE `entry` = 21060 AND `guid` IN (5303985,5303987,5303989,5303990,5303995,5303996,5303998,5303999,5304001,5304002,5304007,5304009,5304012,5304013,5304015,5304017); -- elemental less likely

-- Coilskar Point - no elementals - set dynflag for these and remaining spawns of 21060
REPLACE INTO `creature_spawn_entry` (`guid`, `entry`) SELECT `guid`, 21864 FROM `creature` WHERE `guid` BETWEEN 5304025 AND 5304034;
REPLACE INTO `creature_spawn_entry` (`guid`, `entry`) SELECT `guid`, 23020 FROM `creature` WHERE `guid` BETWEEN 5304025 AND 5304034;

-- https://www.wowhead.com/tbc/npc=21060/enraged-air-spirit#drops
UPDATE `creature_template` SET `ExtraFlags` = `ExtraFlags`|1048576 WHERE `entry` = 21060;
UPDATE `creature` SET `modelid` = 0 WHERE `id` = 21060;
DELETE FROM `creature_loot_template` WHERE `entry` = 21060 AND `item` IN (49002); -- no darkmoon cards
REPLACE INTO `creature_loot_template` (`entry`, `item`, `ChanceOrQuestChance`, `groupid`, `mincountOrRef`, `maxcount`, `condition_id`, `comments`) VALUES
(21060, 7082, 0.8, 0, 1, 1, 0, 'Essence of Air'), -- https://web.archive.org/web/20080930193553/http://wow.allakhazam.com/db/item.html?witem=7082
(21060, 31952, 0.1, 0, 1, 1, 0, 'Khorium Lockbox'); -- https://web.archive.org/web/20080417214431/http://wow.allakhazam.com:80/db/mob.html?wmob=21060

-- https://www.wowhead.com/tbc/npc=21864/scorchshell-pincer#drops
UPDATE `creature_template` SET `ExtraFlags` = `ExtraFlags`|1048576 WHERE `entry` = 21864;
-- https://web.archive.org/web/20080502221837/http://wow.allakhazam.com/db/mob.html?wmob=21864
DELETE FROM `creature_loot_template` WHERE `entry` = 21864 AND `item` IN (23427,49002,50501);
UPDATE `creature_loot_template` SET `ChanceOrQuestChance` = 0.1 WHERE `entry` = 21864 AND `item` = 31952;
REPLACE INTO `creature_loot_template` (`entry`, `item`, `ChanceOrQuestChance`, `groupid`, `mincountOrRef`, `maxcount`, `condition_id`, `comments`) VALUES (21864, 50500, 0.05, 0, -50500, 1, 0, 'NPC LOOT (World Drop) - (Level: 70 Book / Codex / Tome) - (Item Levels: 70) - NPC Levels 70+ (WORLD CLASS LOOT DROP)');

-- https://www.wowhead.com/tbc/npc=23020/shadow-serpent#drops
UPDATE `creature_template` SET `ExtraFlags` = `ExtraFlags`|1048576 WHERE `entry` = 23020;
REPLACE INTO `creature_template_addon` (`entry`, `b2_0_sheath`, `b2_1_flags`, `auras`) VALUES (23020, 1, 16, '39579');
-- https://web.archive.org/web/20080422030342/http://wow.allakhazam.com/db/mob.html?wmob=23020
REPLACE INTO `creature_loot_template` (`entry`, `item`, `ChanceOrQuestChance`, `groupid`, `mincountOrRef`, `maxcount`, `condition_id`, `comments`) VALUES
(23020, 60345, 0.0005, 0, -60345, 1, 0, 'NPC LOOT (Purple World Drop) - (Item Levels: 100) - (NPC Levels 70+) - (WORLD EPIC BOE) - TBC NPC ONLY'),
(23020, 61001, 1, 0, -61001, 1, 0, 'NPC LOOT (Grey World Drop) - (Item Levels: 69-72) - (NPC Levels: 66-72) - TBC NPC ONLY'),
(23020, 61123, 1, 0, -61123, 1, 0, 'NPC LOOT (Green World Drop) - (Item Levels: 108-117) - (NPC Levels: 69-70) - TBC NPC ONLY'),
(23020, 61223, 0.05, 0, -61223, 1, 0, 'NPC LOOT (Blue World Drop) - (Item Levels: 109-115) - (NPC Levels: 69-70) - TBC NPC ONLY');

-- Skinning Loot - https://www.wowhead.com/wotlk/item=29539/cobra-scales#skinned-from
UPDATE `skinning_loot_template` SET `mincountOrRef` = 2 WHERE `entry` = 70168 AND `item` = 25649; -- c.19784,23020,23026

-- Bonus: Shadowlord Deathwail 22006 Flying
-- fly fast on spawn - ignores taunts etc https://www.youtube.com/watch?v=BPNdFAHzn7A&ab_channel=WorldofWarcraftQuests
-- delete overlapping points 21 - 23, move to template
REPLACE INTO `creature_spawn_data` (`guid`, `id`) SELECT `guid`, 3 FROM `creature` WHERE `id` = 22006;
DELETE FROM `creature_movement` WHERE `id` IN (SELECT `guid` FROM `creature` WHERE `id` = 22006);
DELETE FROM `creature_movement_template` WHERE `entry` = 22006;
INSERT INTO `creature_movement_template` (`entry`, `Point`, `PositionX`, `PositionY`, `PositionZ`, `Orientation`, `WaitTime`) VALUES
(22006, 1, -3225.12, 246.817, 195.679, 0, 0),
(22006, 2, -3240.03, 255.9, 201.579, 0, 0),
(22006, 3, -3257.98, 269.678, 201.579, 0, 0),
(22006, 4, -3274.72, 279.532, 201.579, 0, 0),
(22006, 5, -3285.86, 310.516, 201.579, 0, 0),
(22006, 6, -3275.1, 325.252, 201.579, 0, 0),
(22006, 7, -3254.87, 341.812, 201.579, 0, 0),
(22006, 8, -3227.61, 331.076, 201.579, 0, 0),
(22006, 9, -3218.13, 316.963, 201.579, 0, 0),
(22006, 10, -3217.59, 298.951, 201.579, 0, 0),
(22006, 11, -3217.09, 283.996, 201.579, 0, 0),
(22006, 12, -3207.64, 260.908, 203.19, 0, 0),
(22006, 13, -3212.76, 247.542, 203.19, 0, 0),
(22006, 14, -3220.4, 239.538, 203.19, 0, 0),
(22006, 15, -3252.73, 239.407, 172.163, 0, 0),
(22006, 16, -3266.67, 280.529, 161.968, 0, 0),
(22006, 17, -3237.02, 300.281, 161.968, 0, 0),
(22006, 18, -3205.82, 285.144, 183.413, 0, 0),
(22006, 19, -3205.76, 262.642, 184.707, 0, 0),
(22006, 20, -3213.83, 246.444, 194.429, 0, 0);
-- (77084, 21, -3225.12, 246.817, 195.679, 0, 0);
-- (77084, 22, -3240.03, 255.9, 201.579, 0, 0);
-- (77084, 23, -3257.98, 269.678, 201.579, 0, 0);

