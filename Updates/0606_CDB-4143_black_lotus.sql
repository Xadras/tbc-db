-- Respawn Black Lotus 176589 with spawn_groups
-- https://www.wowhead.com/classic/object=176589/black-lotus
-- burning steps 30 Nodes
-- silithus ~27 Nodes
-- winterspring 30 Nodes
-- Eastern Plaguelands 30 Nodes
-- tbcmangos including all spawns from classicmangos and wotlkmangos
-- Based on https://github.com/cmangos/tbc-db/commit/1b1a749718f2c8d268e7fabd72121a73e8056fe0
-- https://github.com/cmangos/tbc-db/commit/156ffa06e45469b0bd7b9df95211f67e9eb88c6a
-- https://github.com/cmangos/tbc-db/commit/e5c70589863d6cec78880c091c4c13f782a14876
-- Vmangos, CCSDB, Trintiycore
DELETE FROM `pool_template` WHERE `entry` BETWEEN 942 AND 946;
-- 942	1	Master Black Lotus (176589) Pool - Burning Steppes
-- 943	1	Master Black Lotus (176589) Pool - Dire Maul - The Maul
-- 944	1	Master Black Lotus (176589) Pool - Winterspring
-- 945	1	Master Black Lotus (176589) Pool - Silithus
-- 946	1	Master Black Lotus (176589) Pool - Eastern Plaguelands
DELETE FROM `pool_gameobject` WHERE `pool_entry` IN (942,943,944,945,946);
DELETE FROM `pool_gameobject` WHERE `guid` IN (SELECT `guid` FROM `gameobject` WHERE `id` = 176589);
DELETE FROM `gameobject` WHERE `id` = 176589;
SET @OGUID := 199300;
INSERT INTO `gameobject` (`guid`, `id`, `map`, `spawnMask`, `position_x`, `position_y`, `position_z`, `orientation`, `rotation0`, `rotation1`, `rotation2`, `rotation3`, `spawntimesecsmin`, `spawntimesecsmax`, `animprogress`, `state`) VALUES
(@OGUID := @OGUID + 1, 176589, 0, 1, -8267.41, -1859.44, 145.745, 5.71379, 0, 0, -0.280868, 0.959747, 3600, 3600, 255, 1), -- NEW
(@OGUID := @OGUID + 1, 176589, 0, 1, -8245.99, -2489.62, 147.414, 4.37078, 0, 0, -0.817009, 0.576625, 3600, 3600, 255, 1), -- NEW
(@OGUID := @OGUID + 1, 176589, 0, 1, -8238.41, -1756.23, 147.111, 1.5708, 0, 0, 0.707108, 0.707106, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 0, 1, -8237.66, -1185.92, 142.557, 2.46091, 0, 0, 0.942641, 0.333809, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 0, 1, -8233.9, -1955.15, 143.781, 3.105, 0, 0, 0.999833, 0.0182929, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 0, 1, -8137, -1187, 134.373, 5.209, 0, 0, 0.51164, -0.8592, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 0, 1, -8113, -1217, 136.675, 0.38, 0, 0, 0.188859, 0.982004, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 0, 1, -8093.14, -1762.91, 132.783, 4.0448, 0, 0, -0.899748, 0.43641, 3600, 3600, 255, 1), -- NEW
(@OGUID := @OGUID + 1, 176589, 0, 1, -8006, -2479, 135.256, 1.24, 0, 0, 0.581035, 0.813878, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 0, 1, -7991, -840, 132.058, 2.495, 0, 0, 0.948193, 0.317694, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 0, 1, -7987, -1364, 132.401, 6.169, 0, 0, 0.0570616, -0.998371, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 0, 1, -7986.06, -1308.1, 133.428, 5.77704, 0, 0, -0.25038, 0.968148, 3600, 3600, 255, 1), -- XYZ
(@OGUID := @OGUID + 1, 176589, 0, 1, -7983.33, -820.788, 129.457, 5.07369, 0, 0, -0.568554, 0.822646, 3600, 3600, 255, 1), -- NEW
(@OGUID := @OGUID + 1, 176589, 0, 1, -7979, -2509, 134.837, 1.616, 0, 0, 0.722907, 0.690946, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 0, 1, -7955.56, -2506.87, 133.805, 3.42085, 0, 0, -0.990268, 0.139175, 3600, 3600, 255, 1), -- NEW
(@OGUID := @OGUID + 1, 176589, 0, 1, -7941, -884.056, 130.403, -2.40855, 0, 0, -0.93358, 0.35837, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 0, 1, -7922, -1410, 137.799, 1.956, 0, 0, 0.829382, 0.558682, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 0, 1, -7900.31, -1009.82, 136.453, 2.68998, 0, 0, 0.974614, 0.223891, 3600, 3600, 255, 1), -- NEW
(@OGUID := @OGUID + 1, 176589, 0, 1, -7899, -1346, 135.428, 6.184, 0, 0, 0.0495723, -0.998771, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 0, 1, -7851.97, -1893.22, 137.997, 5.46245, 0, 0, -0.398949, 0.916973, 3600, 3600, 255, 1), -- NEW
(@OGUID := @OGUID + 1, 176589, 0, 1, -7816.15, -2214.31, 133.439, 5.32657, 0, 0, -0.460277, 0.887776, 3600, 3600, 255, 1), -- NEW
(@OGUID := @OGUID + 1, 176589, 0, 1, -7815, -2063, 134.002, 1.371, 0, 0, 0.63306, 0.774103, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 0, 1, -7801, -2100, 133.439, 0.299, 0, 0, 0.148944, 0.988846, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 0, 1, -7776.3, -2699.34, 173.787, -1.76278, 0, 0, -0.841471, 0.540302, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 0, 1, -7762.16, -1518.31, 131.932, 4.02515, 0, 0, -0.903993, 0.427548, 3600, 3600, 255, 1), -- NEW
(@OGUID := @OGUID + 1, 176589, 0, 1, -7751.55, -2115.85, 133.439, 1.46608, 0, 0, 0.66913, 0.743145, 3600, 3600, 255, 1), -- XYZ
(@OGUID := @OGUID + 1, 176589, 0, 1, -7743.69, -1867.76, 133.444, 2.88633, 0, 0, 0.991866, 0.127286, 3600, 3600, 255, 1), -- NEW
(@OGUID := @OGUID + 1, 176589, 0, 1, -7722, -1626, 136.02, 3.487, 0, 0, 0.985124, -0.171846, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 0, 1, -7701.27, -1532.21, 132.203, 3.42085, 0, 0, -0.990268, 0.139175, 3600, 3600, 255, 1), -- XYZ
(@OGUID := @OGUID + 1, 176589, 0, 1, -7695.95, -2682.91, 148.626, 3.39386, 0, 0, -0.992056, 0.125798, 3600, 3600, 255, 1), -- NEW
(@OGUID := @OGUID + 1, 176589, 0, 1, -7652.79, -2974.58, 130.623, 1.37835, 0, 0, 0.635902, 0.771769, 3600, 3600, 255, 1), -- NEW
(@OGUID := @OGUID + 1, 176589, 0, 1, -7620.87, -709.08, 182.742, 1.46608, 0, 0, 0.66913, 0.743145, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 0, 1, 1575.14, -3213, 78.003, 4.924, 0, 0, 0.628476, -0.777829, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 0, 1, 1601.52, -3254.44, 86.8639, -1.76278, 0, 0, -0.771624, 0.636079, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 0, 1, 1663.37, -5585.61, 102.193, -0.0872668, 0, 0, -0.0436197, 0.999048, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 0, 1, 1701.03, -4586.58, 77.4803, 0.00393295, 0, 0, 0.00196648, 0.999998, 3600, 3600, 255, 1), -- NEW
(@OGUID := @OGUID + 1, 176589, 0, 1, 2007.52, -4295.16, 9.66871, 3.12187, 0, 0, 0.999951, 0.0098628, 3600, 3600, 255, 1), -- NEW
(@OGUID := @OGUID + 1, 176589, 0, 1, 2038.93, -4513, 73.623, 3.953, 0, 0, 0.918825, -0.394665, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 0, 1, 2052.08, -4498.23, 74.777, -1.76278, 0, 0, -0.771624, 0.636079, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 0, 1, 2067.25, -4491, 74.347, 0.819, 0, 0, 0.398151, 0.91732, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 0, 1, 2424.83, -5085, 84.331, 3.856, 0, 0, 0.936878, -0.349656, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 0, 1, 2451.17, -5143, 79.494, 5.216, 0, 0, 0.50863, -0.860985, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 0, 1, 2495.06, -3827.97, 179.112, 3.07177, 0, 0, 0.999391, 0.0349043, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 0, 1, 2511.82, -5151.87, 74.3906, 3.83973, 0, 0, -0.939692, 0.34202, 3600, 3600, 255, 1),-- XYZ
(@OGUID := @OGUID + 1, 176589, 0, 1, 2598.65, -5515.23, 158.735, 5.96369, 0, 0, 0.159068, -0.987268, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 0, 1, 2917.39, -3692.23, 114.803, 0.0174525, 0, 0, 0.999391, 0.0349043, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 0, 1, 2981.9, -3740, 126.154, 3.121, 0, 0, 0.999947, 0.0102961, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 0, 1, 3007.17, -4888, 108.379, 2.128, 0, 0, 0.874304, 0.485379, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 0, 1, 3008.31, -4925.18, 102.372, 0.418879, 0, 0, 0.207911, 0.978148, 3600, 3600, 255, 1), -- NEW
(@OGUID := @OGUID + 1, 176589, 0, 1, 3026.97, -3701, 130.465, 4.738, 0, 0, 0.697994, -0.716103, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 0, 1, 3032.34, -3219.78, 146.509, 1.27479, 0, 0, 0.595104, 0.803649, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 0, 1, 3151.597, -3727.875, 133.603210, 0.5410506, 0, 0, 0.267238, 0.963631, 3600, 3600, 255, 1), -- Z = -61.28984 (https://github.com/cmangos/tbc-db/commit/156ffa06e45469b0bd7b9df95211f67e9eb88c6a)
(@OGUID := @OGUID + 1, 176589, 1, 1, -8132, 291.22, -10, 5.928, 0, 0, 0.176661, -0.984272, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 1, 1, -8077.72, 960.008, 48.8815, 0.994339, 0, 0, 0.47694, 0.878936, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 1, 1, -7933.84, 1167.59, 2.253, 2.4071, 0, 0, 0.93332, 0.359045, 3600, 3600, 255, 1), -- vmangos -> -7886.15 nearest other spawn
(@OGUID := @OGUID + 1, 176589, 1, 1, -7925.23, 1849.41, 5.34795, 0.226893, 0, 0, 0, 0, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 1, 1, -7910, 1883.64, 11.901, 0.541, 0, 0, 0.267213, 0.963637, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 1, 1, -7908, 1898.56, 12.147, 3.895, 0, 0, 0.929882, -0.367857, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 1, 1, -7893.4, 374.002, -38.107, 5.06174, 0, 0, 0.57346, -0.819233, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 1, 1, -7886.15, 1178.26, -1.58162, 0.355033, 0, 0, 0.176586, 0.984285, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 1, 1, -7564.77, 246.019, 17.6169, 2.55254, 0, 0, 0.95694, 0.290287, 3600, 3600, 255, 1), -- NEW
(@OGUID := @OGUID + 1, 176589, 1, 1, -7367.63, 1204.64, -1.235, 5.4898, 0, 0, 0.38637, -0.922344, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 1, 1, -7319.46, 1641.69, -31.032, 4.04467, 0, 0, 0.899778, -0.436349, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 1, 1, -7202.8, 342.116, 39.658, 6.04744, 0, 0, 0.1176, -0.993061, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 1, 1, -7126.82, 742.405, 10.661, 2.58383, 0, 0, 0.961365, 0.275278, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 1, 1, -7046.27, 1135.97, 5.381, 3.43208, 0, 0, 0.98947, -0.144736, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 1, 1, -6766.82, 1221.96, 2.61173, 3.49502, 0, 0, -0.984426, 0.175797, 3600, 3600, 255, 1), -- NEW
(@OGUID := @OGUID + 1, 176589, 1, 1, -6501.72, 1818.61, 3.57448, -0.785398, 0, 0, -0.382683, 0.92388, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 1, 1, 5014.98, -4747, 857.683, 2.614, 0, 0, 0.965407, 0.260747, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 1, 1, 5038.89, -4860.6, 874.446, 1.4307, 0, 0, 0.655882, 0.754863, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 1, 1, 5087.43, -4799, 856.715, 4.659, 0, 0, 0.725729, -0.687981, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 1, 1, 5487.68, -4936.53, 856.087, 4.45059, 0, 0, -0.793353, 0.608762, 3600, 3600, 255, 1), -- XYZ
(@OGUID := @OGUID + 1, 176589, 1, 1, 5536.19, -4971, 843.9, 4.667, 0, 0, 0.722971, -0.690879, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 1, 1, 5554.61, -4915, 837.844, 0.742, 0, 0, 0.362548, 0.931965, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 1, 1, 5680.18, -4517, 766.4, 1.414, 0, 0, 0.649556, 0.760314, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 1, 1, 5713.17, -4569, 764.981, 5.647, 0, 0, 0.312756, -0.949834, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 1, 1, 5731.28, -4532, 761.863, 0.403, 0, 0, 0.200139, 0.979768, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 1, 1, 6189.89, -4408.3, 670.791, 2.04328, 0, 0, 0.852966, 0.521967, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 1, 1, 6442.66, -3168.65, 572.274, 2.9496, 0, 0, 0.995396, 0.0958512, 3600, 3600, 255, 1), -- NEW
(@OGUID := @OGUID + 1, 176589, 1, 1, 6480.53, -5114, 766.217, 3.552, 0, 0, 0.97902, -0.203767, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 1, 1, 6534.58, -3914, 663.082, 4.449, 0, 0, 0.793837, -0.608131, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 1, 1, 6536.91, -5112, 769.792, 4.872, 0, 0, 0.648485, -0.761227, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 1, 1, 6571.79, -5104.69, 769.397, 2.86233, 0, 0, 0.990267, 0.139178, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 1, 1, 6596.97, -3974, 664.124, 6.16, 0, 0, 0.0615538, -0.998104, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 1, 1, 6607.47, -3899, 658.772, 1.377, 0, 0, 0.63538, 0.7722, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 1, 1, 6624.31, -4034.23, 658.502, -0.0698131, 0, 0, -0.0348988, 0.999391, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 1, 1, 6801.55, -5166.48, 734.073, 1.71042, 0, 0, 0.754709, 0.656059, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 1, 1, 6852.8, -2499.04, 562.208, 0.684644, 0, 0, 0.335675, 0.941978, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 1, 1, 7231.08, -4063.29, 714.691, 4.66528, 0, 0, -0.723563, 0.690258, 3600, 3600, 255, 1), -- NEW
(@OGUID := @OGUID + 1, 176589, 1, 1, 8089.14, -3824.4, 696.441, 0.62557, 0, 0, 0.30771, 0.95148, 3600, 3600, 255, 1), -- NEW
(@OGUID := @OGUID + 1, 176589, 1, 1, 8124.4, -3812, 701.824, 3.091, 0, 0, 0.99968, 0.0252936, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 1, 1, 8177.92, -3885, 706.106, 0.419, 0, 0, 0.207971, 0.978135, 3600, 3600, 255, 1),
(@OGUID := @OGUID + 1, 176589, 1, 1, -3774.21, 1081.15, 131.942, 2.96704, 0, 0, 0.996194, 0.087165, 25200, 25200, 100, 1), -- spellspawned?
(@OGUID := @OGUID + 1, 176589, 1, 1, -3715.26, 1084.9, 132.063, -0.191985, 0, 0, -0.0958452, 0.995396, 25200, 25200, 255, 1); -- spellspawned?

SET @SGUID := 19013;
INSERT INTO `spawn_group` (`Id`, `Name`, `Type`, `MaxCount`, `WorldState`, `Flags`) VALUES
(@SGUID + 00, 'Burning Steppes - Black Lotus (176589) (1)', 1, 1, 0, 0),
(@SGUID + 01, 'Eastern Plaguelands - Black Lotus (176589) (1)', 1, 1, 0, 0),
(@SGUID + 02, 'Silithus - Black Lotus (176589) (1)', 1, 1, 0, 0),
(@SGUID + 03, 'Winterspring - Black Lotus (176589) (1)', 1, 1, 0, 0),
(@SGUID + 04, 'Dire Maul (The Maul) - Black Lotus (176589) (1)', 1, 1, 0, 0);

SET @OGUID := 199300;
INSERT INTO `spawn_group_spawn` (`Guid`, `Id`, `SlotId`) SELECT `guid`, @SGUID + 00, -1 FROM `gameobject` WHERE `guid` BETWEEN @OGUID + 1 AND @OGUID + 32;
INSERT INTO `spawn_group_spawn` (`Guid`, `Id`, `SlotId`) SELECT `guid`, @SGUID + 01, -1 FROM `gameobject` WHERE `guid` BETWEEN @OGUID + 33 AND @OGUID + 52;
INSERT INTO `spawn_group_spawn` (`Guid`, `Id`, `SlotId`) SELECT `guid`, @SGUID + 02, -1 FROM `gameobject` WHERE `guid` BETWEEN @OGUID + 53 AND @OGUID + 68;
INSERT INTO `spawn_group_spawn` (`Guid`, `Id`, `SlotId`) SELECT `guid`, @SGUID + 03, -1 FROM `gameobject` WHERE `guid` BETWEEN @OGUID + 69 AND @OGUID + 92;
INSERT INTO `spawn_group_spawn` (`Guid`, `Id`, `SlotId`) SELECT `guid`, @SGUID + 04, -1 FROM `gameobject` WHERE `guid` BETWEEN @OGUID + 93 AND @OGUID + 94;

